# WebApplication
Con un formulario alumnos de entrada desplegable. Cuando se selecciona un alumno, en el formulario, nos enseñara en pantalla toda la información del alumno.
- Este proyecto consta de 2 raices principales, una carpeta donde estan las plantillas o la base de como se enseñara la informacion en la web (En la carpeta meta esta: context.xml y index.jsp; y un paquete llamado Manejador, donde estan todas las clases que se necesitan para llevar a cabo dicho formulario anteriormente, entre ellas: Alumnos, HelloServlet, MysqlConnection, NewMain(pruebas)).
- En la clase Alumnos, se encuentran nuestras variables globales (codi, nom, asignaturas, tutorias), sus respectivos metodos: getters y setters; un toString, el cual nos imprimira toda la informacion del alumno; y un constructor vacio.
- En la clase MysqlConnection estan las respectivas variables de la conexion, como: el nombre de mi Data Base, el login, el password, y la url de la BD; 2 metodos: uno de objeto tipo Connetion conectar, donde se conecta mediante el link DriverManager donde coge como parametro la url, el login y el password; y otro de tipo ResultSet exQuery donde coge como parametro la conexion y mi base de datos, y cuando esta bien ejecutado avisa!.
- La clase NewMain, fue creada para saber si hacia la conexion. En ella esta creado la lista de Alumnos, instanciamos 3 objetos (uno tipo MysqlConnection, otro tipo Connection y otro ResultSet donde tenia la consulta correspondiente para seleccionar todos los alumnos de mi Data Base). Hay un try catch donde instancio el objeto Alumnos y con la solucion de la consulta recojo el codigo y el nombre; y voy agrengando (add) un alumno a la lista de Alumnos. Y por ultimo un for en donde voy imprimiendo la lista de Alumnos, desde el inicio hasta el fin (con un toString).
- En la pagina .jsp, se añadio un par de lines de java dentro del documento .html. Se crea antes de la cabecera, una instancia objeto tipo lista (ArrayList), donde se llama igual. En el body despues del titulo, se crea un formulario (methodo="POST") donde se le llama "seleccion"; y unas lineas de java: instanciar Alumnos haciendo una variable aux que vaya guardando los alumnos en la lista. En el option se añade al value la variable auxiliar, obteniendo el codigo, y antes de cerrar el option la otra linea que imprima el toString de la lista.
- En la clase HelloServlet se ha editado el metodo doGet y doPost. Para hacer una prueba con el primer metodo (doGet), se copio lo mismo de la clase NewMain para probar que funcionaba de igual forma, mediante este metodo; lo que se agregaron 3 lineas, donde en la primera solicita la edicion del Arraylist de Alumnos; en la segunda linea hacemos la solicitud desde el index.jsp; y la ultima linea se reenvia la solicitud y la respuesta.
* Devuelve con formato XML: En el metodo doPost, agregamos una linea para tratar los caracteres con acentos (response.setContentType). Se crea una variable tipo String, la cual es tomada por el parametro que habiamos renombrado como "seleccion" en el formulario; tambien se encuentra la linea de MysqlConnection y Connection, las cuales hacen la respectiva conexion con la Base de Datos. Se hace la consulta (exQuery) donde con inner join junto las tablas para poder obtener todos los datos de cada alumno. Ponemos dentro de un try - catch se crea un objeto tipo Alumno y en la condicion while iremos buscando los respectivos datos que ponemos dentro de la condicion y con un PrintWriter recoge e imprime todos los datos del alumno en formato XML.
- Hemos creado otro documento llamado: newjsp.jsp donde dentro del codigo de java hemos creado un objeto aux tipo Alumnos, donde en el cuerpo de la pagina se va imprimiendo con un out.print los respectivos datos del alumno que le pedimos.
* Devuelve con formato HTML con los datos a través de un JSP: En el metodo doPost, agregamos una linea para tratar los caracteres con acentos (response.setContentType). Se crea una variable tipo String, la cual es tomada por el parametro que habiamos renombrado como "seleccion" en el formulario; tambien se encuentra la linea de MysqlConnection y Connection, las cuales hacen la respectiva conexion con la Base de Datos. Se hace la consulta (exQuery) donde con inner join junto las tablas para poder obtener todos los datos de cada alumno. Ponemos dentro de un try - catch, un objeto tipo Alumno y en la condicion while iremos buscando los respectivos datos que ponemos dentro de la condicion. Hacemos una solicitud del objeto tipo Alumno y de una variable aux que se ha creado en el newjsp.jsp (se explicara despues). En siguiente lugar, hacemos otra solicitud con el RequestDispacher del newjsp.jsp y la enseña.
- Hemos creado otro documento llamado: newjsp.jsp donde dentro del codigo de java hemos creado un objeto aux tipo Alumnos, donde en el cuerpo de la pagina se va imprimiendo con un out.print los respectivos datos del alumno que le pedimos.
